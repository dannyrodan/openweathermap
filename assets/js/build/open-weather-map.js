// Generated by CoffeeScript 1.10.0
(function() {
  var app, getWeather;

  app = angular.module('open-weather', []);

  app.controller('city1Controller', [
    '$http', function($http) {
      var stored_city;
      this.city = void 0;
      this.current_city = void 0;
      stored_city = this;
      this.getData = function(city) {
        return getWeather($http, city, stored_city);
      };
      return void 0;
    }
  ]);

  app.controller('city2Controller', [
    '$http', function($http) {
      var stored_city;
      this.city = void 0;
      this.current_city = void 0;
      stored_city = this;
      this.getData = function(city) {
        return getWeather($http, city, stored_city);
      };
      return void 0;
    }
  ]);

  app.controller('city3Controller', [
    '$http', function($http) {
      var stored_city;
      this.city = void 0;
      this.current_city = void 0;
      stored_city = this;
      this.getData = function(city) {
        return getWeather($http, city, stored_city);
      };
      return void 0;
    }
  ]);

  getWeather = function(service, city, stored_city) {
    return service.get("http://api.openweathermap.org/data/2.5/weather", {
      params: {
        q: city,
        APPID: "dff97a586b33bfeb217ac171a722c96b",
        units: 'imperial'
      }
    }).success(function(result) {
      stored_city.current_city = result;
      return stored_city.city = void 0;
    }).then(function() {
      return console.log("Information found for " + city);
    });
  };

}).call(this);
